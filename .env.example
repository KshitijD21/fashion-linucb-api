# ===========================================
# FASHION LINUCB API - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3000
NODE_ENV=development
API_VERSION=v1

# ===========================================
# MONGODB ATLAS CONFIGURATION
# ===========================================
# MongoDB Atlas connection string
# Format: mongodb+srv://username:password@cluster.mongodb.net/database-name
MONGODB_URI=mongodb+srv://your-username:your-password@cluster0.xxxxx.mongodb.net/fashion-linucb-db?retryWrites=true&w=majority

# Database name
DB_NAME=fashion-linucb-db

# Collection names
USERS_COLLECTION=users
ITEMS_COLLECTION=fashion_items
INTERACTIONS_COLLECTION=user_interactions
SESSIONS_COLLECTION=user_sessions

# ===========================================
# LINUCB ALGORITHM PARAMETERS
# ===========================================
# Alpha parameter for exploration vs exploitation (0.1 - 2.0)
LINUCB_ALPHA=0.5

# Feature vector dimensions (recommended: 20-50 for fashion items)
FEATURE_DIMENSIONS=30

# Context dimensions for user features (age, gender, season, etc.)
CONTEXT_DIMENSIONS=10

# Number of arms (fashion items) to maintain in memory
MAX_ARMS=1000

# Learning rate decay factor
LEARNING_RATE_DECAY=0.995

# Minimum confidence threshold for recommendations
MIN_CONFIDENCE_THRESHOLD=0.1

# ===========================================
# SESSION MANAGEMENT
# ===========================================
# Session secret for anonymous users
SESSION_SECRET=your-super-secret-session-key-change-this-in-production

# Session timeout in milliseconds (24 hours)
SESSION_TIMEOUT=86400000

# Session store settings
SESSION_STORE=mongodb
SESSION_COLLECTION=user_sessions

# ===========================================
# API RATE LIMITING
# ===========================================
# Rate limiting - requests per window
RATE_LIMIT_REQUESTS=100

# Rate limiting - window in minutes
RATE_LIMIT_WINDOW=15

# ===========================================
# DATASET CONFIGURATION
# ===========================================
# Path to fashion dataset CSV file
DATASET_PATH=./data/PREMIUM_FASHION_DATASET.csv

# Batch size for processing dataset
BATCH_SIZE=1000

# Enable automatic dataset loading on startup
AUTO_LOAD_DATASET=true

# ===========================================
# RECOMMENDATION ENGINE SETTINGS
# ===========================================
# Number of recommendations to return per request
DEFAULT_RECOMMENDATION_COUNT=10

# Maximum recommendations per request
MAX_RECOMMENDATION_COUNT=50

# Enable real-time learning from user feedback
ENABLE_REALTIME_LEARNING=true

# Minimum interactions before personalization
MIN_INTERACTIONS_FOR_PERSONALIZATION=5

# ===========================================
# LOGGING AND MONITORING
# ===========================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# ===========================================
# CORS CONFIGURATION
# ===========================================
# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:5173

# Enable CORS credentials
CORS_CREDENTIALS=true

# ===========================================
# SECURITY SETTINGS
# ===========================================
# Enable helmet security headers
ENABLE_HELMET=true

# Enable compression
ENABLE_COMPRESSION=true

# Trust proxy (for rate limiting behind reverse proxy)
TRUST_PROXY=false

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================
# Enable detailed error messages (development only)
DETAILED_ERRORS=true

# Enable API documentation endpoint
ENABLE_API_DOCS=true

# Enable debug routes (development only)
ENABLE_DEBUG_ROUTES=false

# Seed database on startup (development only)
SEED_DATABASE=false

# ===========================================
# TESTING CONFIGURATION
# ===========================================
# Test database URI (for running tests)
TEST_MONGODB_URI=mongodb+srv://your-username:your-password@cluster0.xxxxx.mongodb.net/fashion-linucb-test

# Test environment settings
TEST_PORT=3001
TEST_TIMEOUT=30000

# ===========================================
# HACKATHON QUICK START
# ===========================================
# Set these for immediate development:
# 1. MONGODB_URI - Your MongoDB Atlas connection string
# 2. SESSION_SECRET - Any random string for sessions
# 3. DATASET_PATH - Path to your fashion dataset CSV
# 4. AUTO_LOAD_DATASET=true - Automatically load data on startup
# 5. ENABLE_DEBUG_ROUTES=true - Enable helpful debug endpoints
